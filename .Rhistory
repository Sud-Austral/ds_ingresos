tabla_prom_reg <- data.frame()
for (i in reg_20) {
casen_fh <- filter(casen2020, casen2020$region == i)
casen_fh <- casen_fh[,c("region","folio","ytrabajocorh")]
casen_fh$folio <- as.character(casen_fh$folio)
tabla <- table(casen_fh$folio)
tabla <- as.data.frame(tabla)
colnames(tabla) <- c("folio","freq_folio")
tabla
#suppressWarnings(library(RODBC))
library(ggplot2)
library(ggpubr)
library(markdown)
library(shiny)
library(shinythemes)
library(tidyverse)
library(magrittr)
library(lubridate)
library(plotly)
library(xts)
library(dygraphs)
library(kableExtra)
library(knitr)
library("readxl")
library(rsconnect)
library(dplyr)
library(summarytools)
library(epiDisplay)
#library(leaflet)
library(haven)
library(epiDisplay)
library("readxl")
library(expss)
library(hrbrthemes)
library(viridis)
library(viridisLite)
library(DescTools)
library(roperators)
library(shinycssloaders)
library(writexl)
library(labelled)
library(tidyverse)
library(haven)
library(readr)
library(sjmisc)
library(WriteXLS)
library(ineq)
library(readstata13)
library(reldist)
library(foreign)
library(DT)
# casen2020 <- readRDS("C:/Users/enamo/Desktop/Shiny-R/Casen_en_pandemia_2020/casen/casen_2020.rds")
# casen2020 <- mutate_if(casen2020, is.factor, as.character)
# casen2017 <- readRDS("C:/Users/enamo/Desktop/Shiny-R/Casen_en_pandemia_2020/casen/casen_2017_c.rds")
# casen2017 <- mutate_if(casen2017, is.factor, as.character)
# casen2015 <- readRDS("C:/Users/enamo/Desktop/Shiny-R/Casen_en_pandemia_2020/casen/casen_2015_c.rds")
# casen2015 <- mutate_if(casen2015, is.factor, as.character)
# casen2013 <- readRDS("C:/Users/enamo/Desktop/Shiny-R/Casen_en_pandemia_2020/casen/casen_2013_c.rds")
# casen2013 <- mutate_if(casen2013, is.factor, as.character)
# casen2011 <- readRDS("C:/Users/enamo/Desktop/Shiny-R/Casen_en_pandemia_2020/casen/casen_2011_c.rds")
# casen2011 <- mutate_if(casen2011, is.factor, as.character)
# casen2009 <- readRDS("C:/Users/enamo/Desktop/Shiny-R/Casen_en_pandemia_2020/casen/casen_2009_c.rds")
# casen2009 <- mutate_if(casen2009, is.factor, as.character)
# casen2006 <- readRDS("C:/Users/enamo/Desktop/Shiny-R/Casen_en_pandemia_2020/casen/casen_2006_c.rds")
# casen2006 <- mutate_if(casen2006, is.factor, as.character)
casen2006 <- readRDS("C:/Users/chris/OneDrive/Documentos/archivos_grandes/casen_2006_c.rds")
casen2006 <- mutate_if(casen2006, is.factor, as.character)
casen2009 <- readRDS("C:/Users/chris/OneDrive/Documentos/archivos_grandes/casen_2009_c.rds")
casen2009 <- mutate_if(casen2009, is.factor, as.character)
casen2011 <- readRDS("C:/Users/chris/OneDrive/Documentos/archivos_grandes/casen_2011_c.rds")
casen2011 <- mutate_if(casen2011, is.factor, as.character)
casen2013 <- readRDS("C:/Users/chris/OneDrive/Documentos/archivos_grandes/casen_2013_c.rds")
casen2013 <- mutate_if(casen2013, is.factor, as.character)
casen2015 <- readRDS("C:/Users/chris/OneDrive/Documentos/archivos_grandes/casen_2015_c.rds")
casen2015 <- mutate_if(casen2015, is.factor, as.character)
casen2017 <- readRDS("C:/Users/chris/OneDrive/Documentos/archivos_grandes/casen_2017_c.rds")
casen2017 <- mutate_if(casen2017, is.factor, as.character)
# casen2020 <- read.spss(file="C:/Users/chris/OneDrive/Documentos/archivos_grandes/casen_2020.sav", to.data.frame=TRUE)
# saveRDS(casen2020,"casen2020.rds")
casen2020 <- readRDS("casen2020.rds")
casen2020 <- mutate_if(casen2020, is.factor, as.character)
reg_20 <- unique(casen2020$region)
# length(reg_20)
reg_17 <- unique(casen2017$region)
# length(reg_17)
reg_15 <- unique(casen2015$region)
# length(reg_15)
reg_13 <- unique(casen2013$region)
# length(reg_13)
reg_11 <- unique(casen2011$region)
# length(reg_11)
reg_09 <- unique(casen2009$REGION)
# length(reg_09)
reg_06 <- unique(casen2006$R)
# length(reg_06)
tabla_prom_reg <- data.frame()
for (i in reg_20) {
casen_fh <- filter(casen2020, casen2020$region == i)
casen_fh <- casen_fh[,c("region","folio","ytrabajocorh")]
casen_fh$folio <- as.character(casen_fh$folio)
tabla <- table(casen_fh$folio)
tabla <- as.data.frame(tabla)
colnames(tabla) <- c("folio","freq_folio")
tabla
tabla_prom_reg <- data.frame()
for (i in reg_20) {
casen_fh <- filter(casen2020, casen2020$region == i)
casen_fh <- casen_fh[,c("region","folio","ytrabajocorh")]
casen_fh$folio <- as.character(casen_fh$folio)
tabla <- table(casen_fh$folio)
tabla <- as.data.frame(tabla)
colnames(tabla) <- c("folio","freq_folio")
repetidos2 <- merge(x=casen_fh, y=tabla, by = "folio", all.x = T)
repetidos2 <- repetidos2[,c(2,1,4,3)]
rr <- repetidos2[!duplicated(repetidos2$folio ), ]
tabla_reg <- data.frame(
region = i,
promedio = mean(rr$ytrabajocorh)
)
tabla_prom_reg <- rbind(tabla_prom_reg, tabla_reg)
}
tabla
tabla_ing_aut <- read_xlsx("ingreso_del_trabajo_oficial_2020.xlsx")
names(tabla_ing_aut)[3] <- "region"
names(tabla_ing_aut)[1] <- "region_c"
tabla_unida = merge(x = tabla_prom_reg, y = tabla_ing_aut, by = "region", all.x = T)
tabla_unida <- tabla_unida[,-c(3)]
kbl(tabla_unida) %>%
kable_styling(bootstrap_options = c("striped", "hover")) %>%
kable_paper() %>%
scroll_box(width = "100%", height = "300px")
tabla_prom_reg <- data.frame()
for (i in reg_20) {
casen_fh <- filter(casen2020, casen2020$region == i)
casen_fh <- casen_fh[,c("region","folio","ytrabajocorh")]
casen_fh$folio <- as.character(casen_fh$folio)
tabla <- table(casen_fh$folio)
tabla <- as.data.frame(tabla)
colnames(tabla) <- c("folio","freq_folio")
repetidos2 <- merge(x=casen_fh, y=tabla, by = "folio", all.x = T)
repetidos2 <- repetidos2[,c(2,1,4,3)]
rr <- repetidos2[!duplicated(repetidos2$folio ), ]
tabla_reg <- data.frame(
region = i,
promedio = mean(rr$ytrabajocorh)
)
tabla_prom_reg <- rbind(tabla_prom_reg, tabla_reg)
}
tabla_prom_reg
